<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Weather Forcasting </title>
<style>
	* {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}
body{
    background-image: url('weather.jpg');
    height: 100vh;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
}

span {
    margin-top: 100px;
    margin-left: 20px;
}

input{
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;


}
button{
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
}
input,
button {
    margin-top: 5px;
    background-color: white;

    border: none;


    padding: 0px 5px 0px 5px;
    outline: none;


}
.banner{
    text-transform: uppercase;
    width: 92%;
    margin-top: 20px;
    padding: 5px 5px 5px 5px ;
text-align: center;
    margin-left: 4%;
    margin-right: 4%;
    /* border-radius: 12px; */
    backdrop-filter: blur(5px) saturate(143%);
    background-color: rgba(17, 25, 40, 0.37);
border-radius: 12px;
border: 1px solid rgba(255, 255, 255, 0.125);
-webkit-backdrop-filter: blur(8px) saturate(143%);

}

#current_weathure{
    display: none;
backdrop-filter: blur(5px) saturate(143%);
-webkit-backdrop-filter: blur(8px) saturate(143%);
margin-left: 4%;
position: relative;
margin-right: 4%;
font-size: 14px;

width: 92%;
margin-top: 10px;
background-color: rgba(17, 25, 40, 0.37);
border-radius: 12px;
border: 1px solid rgba(255, 255, 255, 0.125);
padding: 5px 5px 5px 15px;


}
#current_weathure h4{
    text-align: center;
    opacity: 0.6;
    color: #f8f5f5;
}
button:first-of-type {
margin-left: -10px;
padding-left: 5px;
padding-right: 5px;

}

button:hover {
    background-color: #cbc7c7;
}




#forcasting {
    
    display: none;
    backdrop-filter: blur(5px) saturate(143%);
-webkit-backdrop-filter: blur(8px) saturate(143%);
background-color: rgba(17, 25, 40, 0.37);
border-radius: 12px;
border: 1px solid rgba(255, 255, 255, 0.125);
padding: 5px 5px 5px 15px;

margin-left: 4%;
margin-top: 5px;
font-size: 14px;
position: relative;
margin-right: 4%;
}
#forcasting h4{
    text-align: center;
    opacity: 0.6;
    color: #f8f5f5;
}
#this_inner{
    box-shadow:inset 0 0 4px #a09f9f;
    color: #0e0d0d;
    font-size: 10px;
    padding: 6px 5px 4px 5px;
    border-radius: 8px;

    margin-left: 10px;
    
}
#hide{
    position: absolute;
    right: 20px;
    top: 20px;
    font-size: 20px;
    
}

.wrap{
    
    display: flex;
justify-content: center;

    height: 40px !important;
    
}
.footer{
    
    background-color: black;
    opacity: 0.6;
    color: white;
    
position: fixed;
bottom: 0px;

    width: 100%;
    line-height: 30px;
}
.footer .developer{
    text-align: center;
    font-size: 13px;
}
</style>
</head>

<body>

	<!-- banner for the showing about the alert  -->
	<div class="banner" id="top_banner">
<h4>Weather Forecasting </h4>
	</div>

	<div class="wrap">
	<input type="text" id="name_value"  placeholder="Search.. ">
			<button onclick="weather()" style="padding-left: 5px; padding-right: 5px;">
				<i class="fa fa-search"></i>
			</button>

			<button id="this_inner" onclick="Forcasting()">FORECAST</button>


		
		
	</div>

		<!-- curretn weather casting  -->
		<div id="current_weathure">
		

			
		</div>


		<p id="forcasting">
		
			<a id="hide" onclick="Forcasting()">&times;</a>
		</p>



	</select>
	<br>
	<br>


	<!-- it is footer -->
	<footer class="footer" id="footer">
<div class="developer"> &copy; 2021-20022 | developed by <a href="https://www.instagram.com/the_abhijeet_kumar/">Abhi kumar  </a></div>

	</footer>
	<script>
		
	// forcasting function 
    const Forcasting=()=>{
        var Tar=document.getElementById("forcasting");
        var name = document.getElementById("name_value").value;
        var inner_ch=document.getElementById("this_inner");
        if(name===""){
            alert("first search your location ");

        }
        else{
            if(Tar.style.display==="none"){
            Tar.style.display="block";
            inner_ch.innerHTML="HIDE";
        }
        else{
            Tar.style.display="none";
            inner_ch.innerHTML="FORECAST";
            
        }
        }
        
    }

    
   
//    all 
    
    function weather() {
	
			//  variale
			var Datea1, moonphase1, sunrise1, sunset1, maxtempF1, maxtempC1, maxWindSpeed1, daily_chance_of_rain1, condition1, Datea2, moonphase2, sunrise2, sunset2, maxtempF2, maxtempC2, maxWindSpeed2, daily_chance_of_rain2, condition2, Datea3, moonphase3, sunrise3, sunset3, maxtempF3, maxtempC3, maxWindSpeed3, daily_chance_of_rain3, condition3;
			// 
			var name = document.getElementById("name_value").value;

			if (!window.navigator.onLine) {

				alert(" Your are offline Please try again after internet connection ");
			}
			if (name === "") {
				alert(" You did not fill ");

			}
			else {
				//  what ever we 'll enter first charecter 'll in Uppercase 
				var ToFirstUpper = name.charAt(0).toUpperCase() + name.slice(1);

				fetch('https://weatherapi-com.p.rapidapi.com/forecast.json?q=' + name + '&days=4', {
					"method": "GET",
					"headers": {
						"x-rapidapi-key": "ca28d167d3msh3207a7f510621f0p1669edjsndf30a4d4a7c9",
						"x-rapidapi-host": "weatherapi-com.p.rapidapi.com"
					}
				})

					.then(response =>{
						if(response.status===102){
							console.log("loading");
						}else{
						 return  response.json()
						
					}})
					.then(data => {

						document.getElementById('current_weathure').style.display='	block';


						// first days prdiction //
						console.log(data);

						var name_c = data["location"]["name"];
						var region_c = data["location"]["region"];
						var location_c = data["location"]["localtime"];
						var text_c = data["current"]["condition"]["text"];

						var temp_c = data["current"]["temp_c"];
						var temp_f = data["current"]["temp_f"];
						var humidity_c = data["current"]["humidity"];
						var last_updated_c = data["current"]["last_updated"];
						var date_c = data["current"]["wind_kph"];


						document.getElementById("current_weathure").innerHTML = "	<h4 >Current Weather</h4>" +"<br>Location: " + name_c + " <br>Region  :" + region_c + "<br> LocalTime  :" + location_c + "<br>  Condition  :" + text_c + "<br>  Celsius  :" + temp_c +
							"<br> Temprature In Fahrenhiet  :" + temp_f + "<br> Humidity  :" + humidity_c + "<br> Updated  :" + last_updated_c + "<br>  Wind speed  :" + date_c + " km/hour";





						//  weathure for casting 

						// Datea1 = data["forecast"]["forecastday"][0]["date"];
						// moonphase1 = data["forecast"]["forecastday"][0]["astro"]["moon_phase"];
						// sunset1 = data["forecast"]["forecastday"][0]["astro"]["sunrise"];

						// sunrise1 = data["forecast"]["forecastday"][0]["astro"]["sunset"];
						// maxtempF1 = data["forecast"]["forecastday"][0]["day"]["maxtemp_f"];
						// maxtempC1 = data["forecast"]["forecastday"][0]["day"]["maxtemp_c"];
						// maxWindSpeed1 = data["forecast"]["forecastday"][0]["day"]["maxwind_kph"];
						// daily_chance_of_rain1 = data["forecast"]["forecastday"][0]["day"]["daily_chance_of_rain"];
						// condition1 = data["forecast"]["forecastday"][0]["day"]["condition"]["text"];
console.log(data);

						Datea2 = data["forecast"]["forecastday"][1]["date"];
						moonphase2 = data["forecast"]["forecastday"][1]["astro"]["moon_phase"];
						sunset2 = data["forecast"]["forecastday"][1]["astro"]["sunrise"];

						sunrise2 = data["forecast"]["forecastday"][1]["astro"]["sunset"];
						maxtempF2 = data["forecast"]["forecastday"][1]["day"]["maxtemp_f"];
						maxtempC2 = data["forecast"]["forecastday"][1]["day"]["maxtemp_c"];
						maxWindSpeed2 = data["forecast"]["forecastday"][1]["day"]["maxwind_kph"];
						daily_chance_of_rain2 = data["forecast"]["forecastday"][1]["day"]["daily_chance_of_rain"];
						condition2 = data["forecast"]["forecastday"][1]["day"]["condition"]["text"];
					
						Datea3 = data["forecast"]["forecastday"][2]["date"];
						moonphase3 = data["forecast"]["forecastday"][2]["astro"]["moon_phase"];
						sunset3 = data["forecast"]["forecastday"][2]["astro"]["sunrise"];



						sunrise3 = data["forecast"]["forecastday"][2]["astro"]["sunset"];
						maxtempF3 = data["forecast"]["forecastday"][2]["day"]["maxtemp_f"];
						maxtempC3 = data["forecast"]["forecastday"][2]["day"]["maxtemp_c"];
						maxWindSpeed3 = data["forecast"]["forecastday"][2]["day"]["maxwind_kph"];
						daily_chance_of_rain3 = data["forecast"]["forecastday"][2]["day"]["daily_chance_of_rain"];
						condition3 = data["forecast"]["forecastday"][2]["day"]["condition"]["text"];


						document.getElementById("forcasting").innerHTML = "<h4>Next two days Forecasted  </h4> <br>"+
							" Date : " + Datea2 + "<br>  Moonphase : " + moonphase2 + "<br>  Sunset : " + sunrise2 + "<br>  Sunrise : " + sunrise2 + "<br>  Fahrenheit :" + maxtempF2 + "<br> Celsius : " + maxtempC2 + "<br> Wind speed :" + maxWindSpeed2 + " km " + "<br> Chance of Rain :" + daily_chance_of_rain2 +"%"+ "<br> Condition :" + condition2 +
							"<br><br>  Date : " + Datea3 + "<br>  Moonphase : " + moonphase3 + "<br>  Sunset : " + sunrise3 + "<br>  Sunrise : " + sunrise3 + "<br>  Fahrenheit :" + maxtempF3 + "<br> Celsius : " + maxtempC3 + "<br> Wind speed :" + maxWindSpeed3 + " km " + "<br> Chance of Rain :" + daily_chance_of_rain3 + "%"+ "<br> Condition :" + condition3;





					})
					.catch(err => {
						document.getElementById("current_weathure").innerHTML="Not match your entered loaction";
						document.getElementById("forcasting").innerHTML = "Not match your entered loaction";
					})
			}






		}




	</script>
</body>

</html>